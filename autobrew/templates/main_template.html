{% extends "base.html" %}
{% block title %}AutoBrew Live status{% endblock %}
{% block head %}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    {{ charts_init }}
{% endblock %}
{% block content %}
    {% for source in temp_sources %}
    <br>
    <div class="card box-shadow">
        <div class="card-header">
            <h3>Live {{ source.get_name() }} temperature is {{ source._get_temperature() }}
            {% if source.is_primary %}
                <span class="badge badge-secondary">PRIMARY</span>
            {% else %}
            <a href="{{ url_for('set_primary', name=source.get_name()) }}">
                <button type="button" class="btn btn-sm btn-primary">Make primary source for heat control</button>
            </a>
            {% endif %}</h3>
        </div>
        <div class="card-body">
            {{ charts[source.get_name()] }}
        </div>
    </div>

    {% endfor %}

{% endblock %}